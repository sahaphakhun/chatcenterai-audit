# ความพร้อมใช้งานบนมือถือ (Mobile Readiness Audit)

การประเมินนี้ตรวจสอบแต่ละหน้าผู้ดูแลระบบในโค้ดปัจจุบัน โดยอ่านโครงสร้าง HTML/CSS และพฤติกรรมที่ระบุไว้ในไฟล์ view/CSS/JS เพื่อดูความพร้อมบนอุปกรณ์มือถือ

เกณฑ์ให้คะแนน (เต็ม 5)
- 5: พร้อมใช้งานบนมือถือดีมาก มีการจัดวาง/สครอล/แตะได้สะดวก ไม่พบ blocker
- 4: โดยรวมดี มีจุดเล็กน้อยที่ควรปรับ แต่ใช้งานได้สบาย
- 3: ใช้งานได้ แต่มีจุดอึดอัด/เสี่ยง เช่น ตารางยาว, ปุ่มเล็ก, สครอลซ่อน
- 2: มีปัญหาหลักที่กระทบการใช้งานจริงบนมือถือ ต้องแก้ก่อนใช้
- 1: ใช้ไม่ได้บนมือถือ

## รายหน้าที่ตรวจ

- **/admin/login — 4/5**  
  Bootstrap + layout เรียบง่าย ช่องกรอกและปุ่มขนาดเหมาะสม เดิมใช้ container กว้างพอดี จุดที่ควรเสริม: padding แนวตั้ง/ระยะห่างเล็กน้อยสำหรับจอสูง

- **/admin/dashboard (legacy) — 3/5**  
  ใช้ card + grid แต่ไม่มี breakpoints เฉพาะ mobile ในหลายจุด ตัวเลข/ข้อความในการ์ดอาจชิดขอบบนจอแคบ และส่วน instruction list เป็น flex ที่อาจกินพื้นที่แนวนอน แนะนำเพิ่ม margin/padding และ stack ปุ่ม action ใต้ข้อความเมื่อจอ < 576px

- **/admin/dashboard-v2 — 3/5**  
  ใช้ container-fluid และ flex ภายใน card แต่ยังไม่ปรับปุ่ม action ให้ห่อบรรทัดบนมือถือ (ปุ่มเรียงแนวนอนยาว) และ header ยังไม่มีสวิตช์แสดง/ซ่อนเมตา แนะนำใช้ `flex-wrap: wrap` และเพิ่มช่องว่างสำหรับจอเล็ก

- **/admin/chat (chat-redesign) — 4/5**  
  มี `sidebar-overlay` และปุ่ม toggle sidebar สำหรับมือถือ, ใช้ container-fluid, มีปุ่มปิด sidebar ในจอเล็ก จัดการสกรอลได้ดี ข้อสังเกต: รายการผู้ใช้และ panel filter สูงมาก ควรมี max-height/scroll ที่ชัดเจนเมื่อ keyboard ขึ้น

- **/admin/chat-modern — 3/5**  
  เลย์เอาต์สองคอลัมน์ ไม่มีตัวควบคุม toggle sidebar เหมือนเวอร์ชัน redesign อาจอึดอัดบนจอแคบ แม้ Bootstrap จะ stack ได้แต่ความสูงส่วน header/toolbar ยังค่อนข้างแน่น ควรใช้รูปแบบเดียวกับ chat-redesign

- **/admin/orders — 4/5**  
  ตารางหลักอยู่ใน `.table-responsive` และ toolbar ใช้ flex-wrap รองรับมือถือได้ดี ปุ่มความหนาแน่น/ฟิลเตอร์เป็นปุ่มเล็ก แนะนำขยายพื้นที่กดบนจอเล็กเล็กน้อย

- **/admin/broadcast — 4/5**  
  ฟอร์มเป็นคอลัมน์เดียวบนมือถือ (Bootstrap row/col) ปุ่มและช่องกรอกขนาดพอดี อาจเพิ่ม margin ล่างให้ปุ่มท้ายฟอร์มบนจอเล็ก

- **/admin/facebook-posts — 3/5**  
  ใช้ layout 5/7 คอลัมน์; Bootstrap จะ stack แต่ไม่มี table-responsive ในส่วนรายการโพสต์ (เมื่อข้อมูลเยอะอาจล้นแนวนอน) ปุ่ม action หลายปุ่มเรียงแนวนอน แนะนำใส่ `.table-responsive` รอบตาราง/รายการโพสต์ และให้ปุ่ม wrap บนจอเล็ก

- **/admin/facebook-comment — 3/5**  
  ฟอร์มยาวและมีโค้ด prompt แสดงผลหลายบรรทัด อาจต้องสกรอลมากบนมือถือ ขยายช่องกดปุ่มและลด padding ด้านข้างจะช่วย

- **/admin/followup — 3/5**  
  ตาราง/การ์ดหลายชั้น ยังไม่มี table-responsive ชัดเจนและปุ่ม action หลายปุ่มต่อแถวเดียว เสี่ยงล้นแนวนอนเมื่อข้อมูลยาว แนะนำห่อด้วย `.table-responsive` และตั้ง `flex-wrap` ให้ปุ่ม

- **/admin/settings (legacy) — 3/5**  
  Tabs Bootstrap ทำงานบนมือถือ แต่มีหลายฟอร์ม/อินพุตต่อบรรทัด ใช้ grid ที่ไม่ปรับซ้อนบางช่วง (เช่นส่วน API keys) อาจล้นหน้าจอ แนะนำปรับเป็นคอลัมน์เดียวบนจอ < 768px และเพิ่ม spacing

- **/admin/settings2 (UI ก่อนหน้า v2) — 3/5**  
  Layout card + tabs ใช้ container กว้าง ไม่มี nav mobile toggle ที่ชัด ปุ่มเรียงแนวนอนหลายจุด อาจแน่นบนมือถือ

- **/admin/settings2 (เวอร์ชันใหม่ปัจจุบัน, admin-settings-v2.ejs) — 4/5**  
  มี media query ปรับ sidebar เป็นแถวเลื่อนข้าง (horizontal) บนจอเล็ก, ใช้การ์ดซ้อนคอลัมน์เดียวเมื่อจอ < 768px ส่วนคลังรูปภาพมีคอลัมน์ 5/7 จะ stack ได้ แต่ dropzone/ตารางรายการรูปภาพอาจสูงมากบนจอเล็ก แนะนำเพิ่มปุ่มย้อนกลับ/ไปหน้าเก่าใน toast แล้ว (มีแล้ว) และจำกัดความสูง list พร้อมสกรอล

- **/edit-instruction / edit-data-item-v2 — 3/5**  
  ฟอร์มหลายส่วนบนหน้าจอเดียว ฟิลด์ textarea และปุ่มเรียงแนวนอน ยังไม่มีการจัด wrap ปุ่มในจอเล็ก อาจล้น แนะนำให้ปุ่มอยู่คนละบรรทัดเมื่อ < 576px

## ข้อเสนอแนะเร่งด่วน
1) เพิ่ม `.table-responsive` และ `flex-wrap` ให้ส่วนที่เป็นตาราง/ปุ่มแนวนอนในหน้า facebook-posts, followup, dashboard(-v2)  
2) Chat-modern: ปรับใช้ toggle sidebar แบบ chat-redesign หรือซ่อน sidebar อัตโนมัติบนจอเล็ก  
3) Settings (legacy) และ settings2 เดิม: ปรับ grid เป็นคอลัมน์เดียวบนมือถือ ลดปุ่มแนวนอนยาว  
4) ตรวจสอบ dropzone/รายการรูปใน settings v2 ให้มี `max-height` + scroll และเพิ่ม padding ด้านข้างเล็กน้อยสำหรับมือถือ  
5) ทดสอบบนอุปกรณ์จริง (iPhone 13/SE + Android mid-tier) เน้นจุดมีตาราง/ปุ่มหลายปุ่ม เพื่อจูนระยะห่างพื้นที่กด

## แผนปรับปรุงเฉพาะหน้า (เน้นมือถือ)

### หน้าแชท (`/admin/chat`)
- ปรับ hit area ปุ่มสำคัญ (toggle/close sidebar, send) เป็น ~44px และเสริม padding
- เพิ่ม `max-height` + `overflow-y: auto` ให้ filter panel บนจอเล็ก และจำกัดความสูง user list
- เพิ่ม `padding-bottom: env(safe-area-inset-bottom)` ให้ช่องพิมพ์ ป้องกันชนขอบ iPhone (ทำแล้ว)
- ถัดไป: เพิ่มปุ่ม toggle sidebar ให้โชว์เสมอ และทดสอบบนเครื่องจริงเรื่อง keyboard overlay

### หน้าตั้งค่าใหม่ (`/admin/settings2` / admin-settings-v2.ejs)
- ปุ่ม action ใน header การ์ดและปุ่มภายในคลังรูปภาพเปลี่ยนเป็นเต็มความกว้าง/ห่อบรรทัดบนมือถือ (ทำแล้ว)
- เพิ่มจัดเรียง section-header ให้ wrap บนจอเล็ก ลดการล้นแนวนอน (ทำแล้ว)
- คิวอัปโหลด/เครื่องมือเลือกไฟล์ปรับเป็นแนวตั้งบนจอเล็ก ปุ่มเต็มความกว้าง (ทำแล้ว)
- ถัดไป: เพิ่มปุ่มเปิด/ปิด sidebar และปรับ padding sidebar ให้แตะง่าย, จำกัดความสูง list เฉพาะกรณีมีข้อมูลมาก พร้อมสกอลล์

### หน้าอื่น ๆ สรุปย่อ
- Dashboard(-v2): ให้ปุ่ม action wrap, เพิ่ม gap และตั้งการ์ด stack แนวตั้งบนจอเล็ก
- Orders/Followup/Facebook-posts: ครอบทุกตารางด้วย `.table-responsive`, ลดจำนวนคอลัมน์ไม่จำเป็นบนจอเล็ก และเพิ่มขนาดปุ่ม/พื้นที่กด
- Broadcast/Settings legacy: ปรับฟอร์มให้เป็นคอลัมน์เดียวบนมือถือ และเพิ่ม margin/padding สำหรับปุ่มท้ายฟอร์ม
